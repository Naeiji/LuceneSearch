copyright 2014 chep xda artemchep gmail com program free softwar redistribut modifi term gnu gener licens publish free softwar foundat either version licens option later version program distribut hope us without warranti without even impli warranti merchant fit particular purpos see gnu gener licens detail receiv copi gnu gener licens along program write free softwar foundat inc 51 franklin street fifth floor boston 02110 1301 usa com achep acdisplai servic content broadcast receiv content context content content filter async task power manag system clock support annot non support annot nullabl text text util util log com achep acdisplai config com achep acdisplai present com achep acdisplai com achep acdisplai servic switch alarm com achep acdisplai servic switch inact time com achep acdisplai servic switch notifi com achep acdisplai servic switch phone call com achep acdisplai util task run task com achep base heap com achep base content config base com achep base test check com achep base util util com achep base util power power util com achep base build debug creat artem 16 02 14 author artem chepurnoi keyguard servic servic tag keyguard servic code link keyguard servic keyguard servic run function code otherwis activ start stop servic requir set devic state handl state context context config config config charg option config enabl charg || power util plug context config enabl && config keyguard enabl && charg option bath servic start servic context keyguard servic bath servic stop servic context keyguard servic launch max time 1000 phone call phone call monitor thread monitor thread name present present present broadcast receiv receiv broadcast receiv receiv context context screen receiv receiv context action action screen name chang time monitor thread noinspect synchron non field monitor thread monitor thread monitor name monitor thread top name chang time monitor thread top time stop monitor thread phone call call present kill system clock elaps realtim launch chang time launch max time && name && name start name debug log tag screen flag launch launch finish ac displai shown exit newli launch on present kill lock start gui normal launch action screen lock present lock perform lock delai lock code screen actual code otherwis screen link system clock elaps realtim screen turn screen timestamp nullabl async task delai lock task non broadcast receiv screen receiv broadcast receiv receiv context context action action screen debug log tag screen screen timestamp screen cancel lock delai action screen debug log tag screen screen timestamp system clock elaps realtim screen start gui ghost start gui start gui present start gui caus keyguard context perform lock delai debug log tag try perform delai lock system clock elaps realtim config keyguard lock delai milli delai screen timestamp delai max 30000 delai || delai delai max perform lock delai delai max todo allow delai 30 without lag us alarm system delai lock task async task pre execut pre execut debug log tag start delai thread delai delai max runtim except realli want let go deep sleep finish job power manag pm power manag context system servic context power servic pm wake lock power manag partial wake lock delai lock acquir delai 100 background param thread sleep delai interrupt except total fine post execut post execut check screen perform lock execut perform lock debug log tag try perform lock screen screen screen lock start gui ghost start monitor thread cancel lock delai delai lock task delai lock task cancel non switch build switch config config config config base option notifi config option config kei keyguard without notif config base option respect config option config kei keyguard respect inact time switch phone call phone call context alarm context option notifi context notifi inact time context respect non label context servic bath keyguard creat creat context context context name util name context screen power util screen context regist base receiv watch action screen action screen complet noth except save screen timestamp filter filter filter filter add action action screen filter add action action screen filter prioriti filter system high prioriti highest prioriti context regist receiv screen receiv filter start nullabl object object context context context regist receiv filter filter filter filter add action action screen filter add action action screen filter prioriti filter system high prioriti highest prioriti context regist receiv receiv filter screen make sure launch lock present lock perform lock delai activ stop nullabl object object context context context context unregist receiv receiv stop monitor thread cancel lock delai screen make sure wait shade present kill activ destroi context context context context unregist receiv screen receiv destroi watch leak heap ref watcher watch start monitor thread stop monitor thread monitor thread monitor thread context monitor thread start stop monitor thread monitor thread noth stop monitor thread run monitor thread interrupt monitor thread thread monitor current top author artem chepurnoi monitor thread thread frequent check top run valu milli period 15 60 1000 15 min top time top name run non context context monitor thread non context context debug log tag monitor thread initi context context run run run monitor thread sleep period interrupt except unus check latest monitor top run task run task top context text util equal top top name top name top top time system clock elaps realtim log tag top top name debug debug purpos object final watcher debug object log notif remov final throwabl log tag monitor thread di final