copyright 2006 open sourc project licens apach licens version licens mai us file except complianc licens mai obtain copi licens http www apach org licens licens unless requir applic law agre write softwar distribut licens distribut basi without warranti condit kind either express impli see licens specif languag govern permiss limit licens com achep base util xml org xmlpull v1 xml serial java io io except java io output stream java io output stream writer java io unsupport encod except java io writer java nio buffer java nio buffer java nio charset charset java nio charset charset encod java nio charset coder result java nio charset illeg charset name except java nio charset unsupport charset except quick dirti implement xml serial horribli painfulli slow like normal on need specif xml file written fast xml serial xml serial escap table string 15 16 23 24 31 &quot &amp 32 39 40 47 48 55 &lt &gt 56 63 buffer len 8192 char text char buffer len po writer writer output stream output stream charset encod charset buffer byte buffer alloc buffer len indent tag nest line start append io except po po po buffer len flush po po textpos po po append str length io except length buffer len end length end next buffer len append str next end buffer len end next po po po length buffer len flush po po str char length text po po po length append char buf length io except length buffer len end length end next buffer len append buf next end buffer len end next po po po length buffer len flush po po system arraycopi buf text po length po po length append str io except append str str length append indent indent io except indent space indent space length indent space length append space indent escap append io except length ne escap tabl length string escap escap tabl last po po po po po po ne escap escapesc escap last po po append last po po last po last po po append escap last po po append last po po last po escap append char buf start len io except ne escap tabl length string escap escap tabl end start len last po start po po start po end po bufpos ne escap escapesc escap last po po append buf last po po last po last po po append escap last po po append buf last po po last po xml serial attribut namespac name valu io except illeg argument except illeg state except append namespac append namespac append append name append escap append valu append line start cdsect text io except illeg argument except illeg state except unsupport oper except comment text io except illeg argument except illeg state except unsupport oper except docdecl text io except illeg argument except illeg state except unsupport oper except end document io except illeg argument except illeg state except flush xml serial end tag namespac name io except illeg argument except illeg state except nest tag append indent && line start append indent nest append namespac append namespac append append name append line start tag entiti ref text io except illeg argument except illeg state except unsupport oper except flush byte io except posit posit byte posit byte flip output stream write byte arrai posit byte clear flush io except log manag flush po po po output stream buffer buffer buffer wrap text po coder result result charset encod buffer byte result error io except result result overflow flush byte result charset encod buffer byte flush byte output stream flush writer write text po writer flush po depth unsupport oper except featur name unsupport oper except name unsupport oper except namespac unsupport oper except prefix namespac gener prefix illeg argument except unsupport oper except object properti name unsupport oper except ignor whitespac text io except illeg argument except illeg state except unsupport oper except process instruct text io except illeg argument except illeg state except unsupport oper except featur name state illeg argument except illeg state except name equal http xmlpull org v1 doc featur html indent output indent unsupport oper except output output stream encod io except illeg argument except illeg state except illeg argument except charset charset name encod encod illeg charset name except unsupport charset except unsupport encod except unsupport encod except encod init caus output stream output encod output stream writer output stream writer encod output writer writer io except illeg argument except illeg state except writer writer prefix prefix namespac io except illeg argument except illeg state except unsupport oper except properti name object valu illeg argument except illeg state except unsupport oper except start document encod standalon io except illeg argument except illeg state except append xml version encod utf standalon standalon ye line start xml serial start tag namespac name io except illeg argument except illeg state except tag append indent append indent nest nest append namespac append namespac append append name tag line start xml serial text char buf start len io except illeg argument except illeg state except tag append tag escap append buf start len indent line start bufstart len 1 xml serial text text io except illeg argument except illeg state except tag append tag escap append text indent line start text length && text text length