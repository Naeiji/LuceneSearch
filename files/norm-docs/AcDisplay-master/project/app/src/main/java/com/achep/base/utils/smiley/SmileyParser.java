copyright 2015 artem chepurnoi copyright 2014 cyanogen mod project copyright 2009 open sourc project licens apach licens version licens mai us file except complianc licens mai obtain copi licens http www apach org licens licens unless requir applic law agre write softwar distribut licens distribut basi without warranti condit kind either express impli see licens specif languag govern permiss limit licens com achep base util smilei applic content context support annot non support annot nullabl text spannabl text spannabl builder text style imag span com achep acdisplai com achep base test check java util hash map java util regex matcher java util regex pattern annot sequenc span convert textual emoticon graphic on smilei parser smilei parser non smilei parser check non initi whole smilei pars thing save refer method call link applic creat init non context context smilei parser context applic context context context string smilei text pattern pattern hash map integ smilei re smilei parser non context context context context smilei text context resourc arrai smilei text smilei re build smilei re pattern build pattern smilei int icon id drawabl emo im happi drawabl emo im sad drawabl emo im wink drawabl emo im tongu stick drawabl emo im surpris drawabl emo im kiss drawabl emo im yell drawabl emo im cool drawabl emo im monei mouth drawabl emo im foot mouth drawabl emo im embarrass drawabl emo im angel drawabl emo im undecid drawabl emo im cry drawabl emo im lip seal drawabl emo im laugh drawabl emo im wtf drawabl emo im heart drawabl emo im mad drawabl emo im smirk drawabl emo im pokerfac happi sad wink tongu stick surpris kiss yell cool monei mouth foot mouth embarrass 10 angel 11 undecid 12 cry 13 lip seal 14 laugh 15 wtf 16 mad 17 heart 18 smirk 19 pokerfac 20 smilei resourc icon idswhich note chang anyth arrai must make correspond chang arrai smilei text smilei name re valu cm arrai xml int smilei re id smilei smilei resourc smilei happi smilei smilei resourc smilei sad smilei smilei resourc smilei wink smilei smilei resourc smilei tongu stick smilei smilei resourc smilei surpris smilei smilei resourc smilei kiss smilei smilei resourc smilei yell smilei smilei resourc smilei cool smilei smilei resourc smilei monei mouth smilei smilei resourc smilei foot mouth smilei smilei resourc smilei embarrass 10 smilei smilei resourc smilei angel 11 smilei smilei resourc smilei undecid 12 smilei smilei resourc smilei cry 13 smilei smilei resourc smilei lip seal 14 smilei smilei resourc smilei laugh 15 smilei smilei resourc smilei wtf 16 smilei smilei resourc smilei mad 17 smilei smilei resourc smilei heart 18 smilei smilei resourc smilei smirk 19 smilei smilei resourc smilei pokerfac 20 smilei text arrai smilei text build hashtabl us map version smilei resourc icon version non hash map integ build smilei re smilei re id length smilei text length except someon updat smilei re id fail updat arrai xml illeg state except smilei resourc text mismatch hash map integ smilei re hash map smilei text length smilei text length smilei re put smilei textsi smilei re idsi smilei re build regular express us find smilei link add smilei span non pattern build pattern builder capac assumpt averag smilei charact builder pattern builder smilei text length build regex look like escap smili properli interpret liter regex matcher pattern append smilei text pattern append pattern quot pattern append replac extra pattern replac pattern length pattern length pattern compil pattern add imag span sequenc replac textual emoticon graphic version param text sequenc possibli contain emoticon sequenc annot imag span cover recogn emoticon sequenc add smilei span nullabl sequenc text text spannabl builder builder spannabl builder text matcher matcher pattern matcher text matcher find re smilei re matcher group start matcher start end matcher end check end start builder span imag span context re start end spannabl span exclus exclus builder