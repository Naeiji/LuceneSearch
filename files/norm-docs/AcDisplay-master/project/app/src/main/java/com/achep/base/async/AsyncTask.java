copyright 2014 chep xda artemchep gmail com program free softwar redistribut modifi term gnu gener licens publish free softwar foundat either version licens option later version program distribut hope us without warranti without even impli warranti merchant fit particular purpos see gnu gener licens detail receiv copi gnu gener licens along program write free softwar foundat inc 51 franklin street fifth floor boston 02110 1301 usa com achep base async support annot non support annot nullabl text text util com achep base heap com achep base interfac low memori com achep base util io util com achep base util network util java io buffer reader java io io except java io input stream java io input stream reader java lang ref weak refer java net url java util arrai list java util list java util concurr concurr hash map timber log timber better link async task author artem chepurnoi async task async task stop nullabl async task async task async task && async task finish async task cancel stop nullabl async task async task async task && async task statu equal statu finish async task cancel equal call code async task statu equal async task statu finish finish statu equal statu finish equal call code async task cancel cancel cancel download text file internet note forc task stop immedi like produc memori leak author artem chepurnoi download text async task string low memori tag download text max thread num weak refer callback callback concurr hash map map list loader thread thread list reduc thread reduc number run download task on possibl revert low memori reduc thread definit callback invok download finish fail callback call download finish fail download non string text loader thread thread concurr hash map map url loader thread concurr hash map map url map map url url todo calcul much download take abl kick thread effect run timber tag tag fetch url input stream input stream reader isr buffer reader br url url open stream isr input stream reader br buffer reader isr result io util read text buffer reader br map put url result timber tag tag done fetch url io except timber tag tag fail fetch url br br close isr isr close close io except print stack trace download text non callback callback callback weak refer callback initi capac math min max thread num map concurr hash map initi capac thread list arrai list initi capac string background url string result stringurl length network util onlin heap context result url url text util empti url control amount run thread thread size thread list size reduc thread thread size thread size max thread num search best candid finish loader thread thread thread size thread thread list thread aliv need search dead thread great choic thread size thread thread list thread join thread thread thread list remov thread loader thread thread loader thread map url thread start thread list add thread cancel fire thread wait thread loader thread thread thread list join thread thread thread list clear extract result arrai url length resulti map urlsi map clear result join given thread aliv param thread thread join join thread non loader thread thread thread aliv thread join interrupt except pretti pleas well least explod fire thread correct loader thread thread thread list thread aliv && thread interrupt thread interrupt thread list clear post execut non string post execut callback callback callback callback callback download timber tag tag finish load text callback